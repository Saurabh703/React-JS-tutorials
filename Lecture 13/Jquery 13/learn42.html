<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AJAX without JQUERY</title>
    <style>
        table {
            border: 1px solid black;
            border-collapse: collapse;
        }
        table th, td {
            border: 1px solid black;
        }
    </style>
    <script src='jquery/jquery-3.6.0.min.js'></script>
    <script>
        window.addEventListener('load', ()=> {
            fetch("/getEmployees")
            .then((response)=> { return response.json() })
            .then((employees)=>{
                var tbl = document.getElementById("employeesViewTable");
                var tbd = tbl.getElementsByTagName("tbody")[0];
                var i, row, cell;
                var i = 0;
                while (i<employees.length) {
                 row = document.createElement("tr");
                 cell = document.createElement("td");
                 cell.append(document.createTextNode(i+1));
                 row.append(cell);

                     cell = document.createElement("td");
                     cell.append(document.createTextNode(employees[i].id));
                     row.append(cell);

                     cell = document.createElement("td");
                     cell.append(document.createTextNode(employees[i].firstName));
                     row.append(cell);

                     cell = document.createElement("td");
                     cell.append(document.createTextNode(employees[i].lastName));
                     row.append(cell);
                     tbd.append(row);
                    i++;   
                }
            });
        })
    </script>
</head>
<body>
    <h1>Example 42 - AJAX - 4 (Using Fetch API)</h1>
    <h2>Employees</h2>
    <table id="employeesViewTable">
        <thead>
            <tr>
                <th>S.No.</th>
                <th>Id.</th>
                <th>First Name</th>
                <th>Last Name</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
    <br><a href="/">Home</a>
</body>
</html>